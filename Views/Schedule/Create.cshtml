@model AspnetCoreMvcFull.Models.Schedule

@* @{ *@
@* 	ViewData["Title"] = "Create Schedule"; *@
@* 	Layout = "~/Views/Shared/_Layout.cshtml"; *@
@* } *@

<div class="container">
	<div class="row justify-content-center">
		<div class="col-lg-8">
			<!-- Header -->
			<div class="d-flex align-items-center mb-4">
				<a asp-action="Index" class="btn btn-outline-secondary me-3">
					<i class="fas fa-arrow-left"></i>
				</a>
				<div>
					<h2 class="mb-1">Create New Schedule</h2>
					<p class="text-muted mb-0">UC08: Admin Creates Pickup Schedule</p>
				</div>
			</div>

			<!-- Form Card -->
			<div class="card shadow-sm border-0">
				<div class="card-body p-4">
					@* <form asp-action="Create" method="post"> *@
						<div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>

						<div class="row">
							<!-- Collector Selection -->
							<div class="col-md-6 mb-3">
								<label asp-for="CollectorId" class="form-label">
									<i class="fas fa-user me-2"></i>Collector
								</label>
								<select asp-for="CollectorId" class="form-select" asp-items="ViewBag.CollectorId">
									<option value="">Select a collector</option>
								</select>
								<span asp-validation-for="CollectorId" class="text-danger"></span>
							</div>

							<!-- Route Selection -->
							<div class="col-md-6 mb-3">
								<label asp-for="RouteId" class="form-label">
									<i class="fas fa-map-marker-alt me-2"></i>Route
								</label>
								<select asp-for="RouteId" class="form-select" asp-items="ViewBag.RouteId">
									<option value="">Select a route</option>
								</select>
								<span asp-validation-for="RouteId" class="text-danger"></span>
							</div>
						</div>

						@* <div class="row"> *@
						@* 	<!-- Scheduled Date --> *@
						@* 	<div class="col-md-6 mb-3"> *@
						@* 		<label asp-for="ScheduledDate" class="form-label"> *@
						@* 			<i class="fas fa-calendar me-2"></i>Scheduled Date *@
						@* 		</label> *@
						@* 		<input asp-for="ScheduledDate" class="form-control" type="date" /> *@
						@* 		<span asp-validation-for="ScheduledDate" class="text-danger"></span> *@
						@* 	</div> *@

							<!-- Scheduled Time -->
							<div class="col-md-6 mb-3">
							<label asp-for="ScheduleStartTime" class="form-label">
									<i class="fas fa-clock me-2"></i>Scheduled Time
								</label>
							<input asp-for="ScheduleStartTime" class="form-control" type="time" />
							<span asp-validation-for="ScheduleStartTime" class="text-danger"></span>
							</div>
						</div>

						@* <div class="row"> *@
						@* 	<!-- Priority --> *@
						@* 	<div class="col-md-6 mb-3"> *@
						@* 		<label asp-for="Priority" class="form-label"> *@
						@* 			<i class="fas fa-exclamation-triangle me-2"></i>Priority *@
						@* 		</label> *@
						@* 		<select asp-for="Priority" class="form-select" asp-items="ViewBag.Priority"> *@
						@* 		</select> *@
						@* 		<span asp-validation-for="Priority" class="text-danger"></span> *@
						@* 	</div> *@

							<!-- Status -->
							<div class="col-md-6 mb-3">
								<label asp-for="Status" class="form-label">
									<i class="fas fa-info-circle me-2"></i>Status
								</label>
								<select asp-for="Status" class="form-select" asp-items="ViewBag.Status">
								</select>
								<span asp-validation-for="Status" class="text-danger"></span>
							</div>
						</div>

						@* <!-- Notes --> *@
						@* <div class="mb-4"> *@
						@* 	<label asp-for="Notes" class="form-label"> *@
						@* 		<i class="fas fa-sticky-note me-2"></i>Notes (Optional) *@
						@* 	</label> *@
						@* 	<textarea asp-for="Notes" class="form-control" rows="3" *@
						@* 			  placeholder="Add any special instructions or notes..."></textarea> *@
						@* 	<span asp-validation-for="Notes" class="text-danger"></span> *@
						@* </div> *@

						<!-- Action Buttons -->
						<div class="d-flex gap-2">
							<button type="submit" class="btn btn-primary">
								<i class="fas fa-save me-2"></i>Create Schedule
							</button>
							<a asp-action="Index" class="btn btn-outline-secondary">
								<i class="fas fa-times me-2"></i>Cancel
							</a>
						</div>
					@* </form> *@
				</div>
			</div>
		</div>
	</div>
</div>

@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}

	<script>
		// Set minimum date to today
		document.addEventListener('DOMContentLoaded', function() {
			const dateInput = document.querySelector('input[type="date"]');
			if (dateInput) {
				const today = new Date().toISOString().split('T')[0];
				dateInput.setAttribute('min', today);
			}
		});
	</script>
}
